<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TheCFG HOI4Editor</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="app-container">
        <!-- 1. 왼쪽 메뉴 패널 (편집 폼이 분리됨) -->
        <nav id="left-panel" class="left-panel">
            <div class="menu-container">
                <h1>HOI4 편집기</h1>
                <button id="btn-save">프로젝트 다운로드</button>
                <button id="btn-load">프로젝트 불러오기</button>
                <hr>
                <div id="project-settings">
                    <div class="form-group">
                        <label for="project-tree-id">Focus Tree ID</label>
                        <input type="text" id="project-tree-id">
                    </div>
                    <div class="form-group">
                        <label for="project-country-tag">국가 태그 (Country Tag)</label>
                        <input type="text" id="project-country-tag" maxlength="3">
                    </div>
                    <div class="form-group">
                        <label for="project-shared-focuses">공유 중점 (Shared Focuses)</label>
                        <input type="text" id="project-shared-focuses" placeholder="id_1, id_2, ...">
                    </div>
                </div>
                <hr>
                <div id="focus-editor-menu">
                    <button id="btn-new-focus">새 중점 추가</button>
                </div>
                <hr>
                <button id="btn-manage-elements">연계 요소 관리</button>
            </div>
        </nav>
    
        <!-- ★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★ -->
        <!-- ★★★★★★★★★★★ 편집 드로어 패널을 별도 요소로 추가 ★★★★★★★★★★ -->
        <!-- ★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★ -->
        <aside id="editor-drawer-panel" class="editor-drawer-panel">
            <div class="panel-header">
                <h3 id="panel-title">편집</h3>
                <button id="btn-close-panel" title="닫기">&times;</button>
            </div>
            <div id="panel-content" class="panel-content">
                <!-- 편집 폼이 여기에 동적으로 추가됩니다 -->
            </div>
        </aside>
        <!-- 메인 콘텐츠 영역 -->
        <main class="main-content">
            <header class="main-header">
                <button id="btn-mobile-menu" class="mobile-only-btn">☰</button>
                <h2 id="main-header-title">중점 트리 편집기</h2>
            </header>
            
            <div id="focus-editor-view">
                <div id="center-panel" class="center-panel">
                    <div id="visual-editor">
                        <!-- 중점 노드와 연결선이 여기에 동적으로 추가됩니다 -->
                    </div>
                </div>
                <!-- 오른쪽 패널 <aside> 태그가 완전히 삭제되었습니다. -->
            </div>

            <div id="linked-elements-view" class="hidden">
                 <div class="page-header">
                    <h2>연계 요소 관리</h2>
                    <button id="btn-back-to-focus">&larr; 중점 편집기로 돌아가기</button>
                </div>
                <div class="elements-container">
                    <p style="text-align: center; margin-top: 50px;">(연계 요소 관리 기능)</p>
                </div>
            </div>
        </main>
    </div>

    <div id="overlay" class="overlay hidden"></div>

    <script src="script.js"></script>
</body>
<input type="file" id="file-loader" accept=".txt">
</html>
